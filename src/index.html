<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="utf-8" />
  <title>Desenhando na canvas</title>
</head>

<body>

  <canvas id="quadro" style="background:beige"></canvas>
  <input id="paleta" type="color" />

</body>

<script>


  window.onload = function () {

    var quadro = document.getElementById("quadro");
    var paleta = document.getElementById("paleta");

    quadro.setAttribute("width", 500);
    quadro.setAttribute("height", 500);

    var ctx = quadro.getContext("2d");

    var desenhando = false;

    paleta.addEventListener('change', (e) => {
      ctx.strokeStyle = e.target.value;
    })

    quadro.onmousedown = function (evt) {
      ctx.moveTo(evt.offsetX, evt.offsetY);
      ctx.beginPath()
      desenhando = true;
    }

    quadro.onmouseup = function () {
      desenhando = false;
    }

    quadro.onmousemove = function (evt) {
      if (desenhando) {
        ctx.lineTo(evt.offsetX, evt.offsetY);
        ctx.stroke();
      }
    }
  }

</script>

</html>